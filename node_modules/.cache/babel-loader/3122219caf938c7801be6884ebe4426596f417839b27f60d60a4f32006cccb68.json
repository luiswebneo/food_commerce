{"ast":null,"code":"var _jsxFileName = \"/home/luis/react_devsamurai/food_commerce/src/contexts/CartContext.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { snackEmoji } from \"../helpers/snackEmoji\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({});\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [cart, setCart] = useState([]);\n  function addSnackIntoCart(snack) {\n    // buscar\n    const snackExistenInCart = cart.find(item => item.snack === snack.snack && item.id === snack.id);\n\n    // atualizar\n    if (snackExistenInCart) {\n      const newCart = cart.map(item => {\n        if (item.id === snack.id) {\n          const quantity = item.quantity + 1;\n          const subtotal = item.price * quantity;\n          return {\n            ...item,\n            quantity,\n            subtotal\n          };\n        }\n        return item;\n      });\n      toast.success(`Outro(a) ${snackEmoji(snack.snack)} ${snack.name} adicionado nos pedidos`);\n      setCart(newCart);\n      return;\n    }\n\n    // adicionar\n    const newSnack = {\n      ...snack,\n      quantity: 1,\n      subtotal: snack.price\n    };\n    const newCart = [...cart, newSnack]; // push de um array\n\n    toast.success(`Outro(a) ${snackEmoji(snack.snack)} ${snack.name} adicionado nos pedidos`);\n    setCart(newCart);\n  }\n  function removeSnackFromCart(snack) {\n    const newCart = cart.filter(item => !(item.id === snack.id && item.snack === snack.snack));\n    setCart(newCart);\n  }\n  function updateSnackQuantity(snack, newQuantity) {\n    return;\n  }\n  function snackCartIncrement(snack) {\n    updateSnackQuantity(snack, snack.quantity + 1);\n  }\n  function snackCartDecrement(snack) {\n    updateSnackQuantity(snack, snack.quantity - 1);\n  }\n  function confirmOrder() {\n    return;\n  }\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addSnackIntoCart,\n      removeSnackFromCart,\n      snackCartIncrement,\n      snackCartDecrement,\n      confirmOrder\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useState","toast","snackEmoji","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cart","setCart","addSnackIntoCart","snack","snackExistenInCart","find","item","id","newCart","map","quantity","subtotal","price","success","name","newSnack","removeSnackFromCart","filter","updateSnackQuantity","newQuantity","snackCartIncrement","snackCartDecrement","confirmOrder","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/luis/react_devsamurai/food_commerce/src/contexts/CartContext.tsx"],"sourcesContent":["import { createContext, ReactNode, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { SnackData } from \"../interfaces/SnackData\";\nimport { snackEmoji } from \"../helpers/snackEmoji\";\n\ninterface Snack extends SnackData {\n  quantity: number;\n  subtotal: number;\n}\ninterface CartContextProps {\n  cart: Snack[];\n  addSnackIntoCart: (snack: SnackData) => void;\n  removeSnackFromCart: (snack: Snack) => void;\n  snackCartIncrement: (snack: Snack) => void;\n  snackCartDecrement: (snack: Snack) => void;\n  confirmOrder: () => void;\n}\n\ninterface CartProviderProps {\n  children: ReactNode;\n}\n\nexport const CartContext = createContext({} as CartContextProps);\n\nexport function CartProvider({ children }: CartProviderProps) {\n  const [cart, setCart] = useState<Snack[]>([]);\n\n  function addSnackIntoCart(snack: SnackData): void {\n    // buscar\n    const snackExistenInCart = cart.find(\n      (item) => item.snack === snack.snack && item.id === snack.id\n    );\n\n    // atualizar\n    if (snackExistenInCart) {\n      const newCart = cart.map((item) => {\n        if (item.id === snack.id) {\n          const quantity = item.quantity + 1;\n          const subtotal = item.price * quantity;\n\n          return { ...item, quantity, subtotal };\n        }\n        return item;\n      });\n      toast.success(\n        `Outro(a) ${snackEmoji(snack.snack)} ${\n          snack.name\n        } adicionado nos pedidos`\n      );\n      setCart(newCart);\n\n      return;\n    }\n\n    // adicionar\n    const newSnack = { ...snack, quantity: 1, subtotal: snack.price };\n    const newCart = [...cart, newSnack]; // push de um array\n\n    toast.success(\n      `Outro(a) ${snackEmoji(snack.snack)} ${snack.name} adicionado nos pedidos`\n    );\n    setCart(newCart);\n  }\n\n  function removeSnackFromCart(snack: Snack) {\n    const newCart = cart.filter((item) => !(item.id === snack.id && item.snack === snack.snack))\n\n    setCart(newCart)\n  }\n\n  function updateSnackQuantity(snack: Snack, newQuantity: number) {\n    return\n  }\n\n  function snackCartIncrement(snack: Snack) {\n    updateSnackQuantity(snack, snack.quantity + 1);\n  }\n\n  function snackCartDecrement(snack: Snack) {\n    updateSnackQuantity(snack, snack.quantity - 1);\n  }\n\n  function confirmOrder() {\n    return\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        addSnackIntoCart,\n        removeSnackFromCart,\n        snackCartIncrement,\n        snackCartDecrement,\n        confirmOrder,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}