{"ast":null,"code":"var _jsxFileName = \"/home/luis/react_devsamurai/food_commerce/src/contexts/CartContext.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({});\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [cart, setCart] = useState([]);\n  function addSnackIntoCart(snack) {\n    // buscar\n    const snackExistenInCart = cart.find(item => item.snack === snack.snack && item.id === snack.id);\n\n    // atualizar\n    if (snackExistenInCart) {\n      const newCart = cart.map(item => {\n        if (item.id === snack.id) {\n          const quantity = item.quantity + 1;\n        }\n      });\n    }\n\n    // adicionar\n    const newSnack = {\n      ...snack,\n      quantity: 1,\n      subtotal: snack.price\n    };\n    const newCart = [...cart, newSnack]; // push de um array\n\n    console.log(`newCart`, newCart);\n    setCart(newCart);\n  }\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addSnackIntoCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 10\n  }, this);\n}\n_s(CartProvider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useState","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cart","setCart","addSnackIntoCart","snack","snackExistenInCart","find","item","id","newCart","map","quantity","newSnack","subtotal","price","console","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/luis/react_devsamurai/food_commerce/src/contexts/CartContext.tsx"],"sourcesContent":["import { createContext, ReactNode, useState } from \"react\";\n\nimport { SnackData } from \"../interfaces/SnackData\";\n\ninterface Snack extends SnackData{\n  quantity: number\n  subtotal: number\n}\n\ninterface RemoveSnackFromCart {\n  id: number\n  snack: string\n}\n\ninterface UpdateCartProps {\n  id: number\n  snack: string\n  newQuantity: number\n}\ninterface CartContextProps {\n  cart: Snack[]\n  addSnackIntoCart: (snack: SnackData) => void\n  //removeSnackFromCart: ({ id, snack }: RemoveSnackFromCart) => void\n  //updateCart: ({ id, snack, newQuantity }: UpdateCartProps) => void\n}\n\ninterface CartProviderProps{\n  children: ReactNode\n}\n\nexport const CartContext = createContext({} as CartContextProps)\n\nexport function CartProvider({ children }: CartProviderProps){\n  const [cart, setCart] = useState<Snack[]>([])\n\n  function addSnackIntoCart(snack: SnackData): void {\n    // buscar\n    const snackExistenInCart = cart.find(\n      (item) => item.snack === snack.snack && item.id === snack.id,\n    )\n\n    // atualizar\n    if(snackExistenInCart){\n      const newCart = cart.map((item) => {\n        if(item.id === snack.id){\n          const quantity = item.quantity + 1\n          \n        }\n      })\n    }\n\n\n\n\n\n\n\n\n\n    // adicionar\n    const newSnack = { ...snack, quantity: 1, subtotal: snack.price }\n    const newCart = [...cart, newSnack] // push de um array\n\n    console.log(`newCart`, newCart)\n\n    setCart(newCart)\n  }\n\n  return <CartContext.Provider value={{ cart, addSnackIntoCart }}>{children}</CartContext.Provider>\n}\n"],"mappings":";;AAAA,SAASA,aAAa,EAAaC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AA8B3D,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,CAAC,CAAC,CAAqB,CAAC;AAEhE,OAAO,SAASK,YAAYA,CAAC;EAAEC;AAA4B,CAAC,EAAC;EAAAC,EAAA;EAC3D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAU,EAAE,CAAC;EAE7C,SAASS,gBAAgBA,CAACC,KAAgB,EAAQ;IAChD;IACA,MAAMC,kBAAkB,GAAGJ,IAAI,CAACK,IAAI,CACjCC,IAAI,IAAKA,IAAI,CAACH,KAAK,KAAKA,KAAK,CAACA,KAAK,IAAIG,IAAI,CAACC,EAAE,KAAKJ,KAAK,CAACI,EAC5D,CAAC;;IAED;IACA,IAAGH,kBAAkB,EAAC;MACpB,MAAMI,OAAO,GAAGR,IAAI,CAACS,GAAG,CAAEH,IAAI,IAAK;QACjC,IAAGA,IAAI,CAACC,EAAE,KAAKJ,KAAK,CAACI,EAAE,EAAC;UACtB,MAAMG,QAAQ,GAAGJ,IAAI,CAACI,QAAQ,GAAG,CAAC;QAEpC;MACF,CAAC,CAAC;IACJ;;IAUA;IACA,MAAMC,QAAQ,GAAG;MAAE,GAAGR,KAAK;MAAEO,QAAQ,EAAE,CAAC;MAAEE,QAAQ,EAAET,KAAK,CAACU;IAAM,CAAC;IACjE,MAAML,OAAO,GAAG,CAAC,GAAGR,IAAI,EAAEW,QAAQ,CAAC,EAAC;;IAEpCG,OAAO,CAACC,GAAG,CAAE,SAAQ,EAAEP,OAAO,CAAC;IAE/BP,OAAO,CAACO,OAAO,CAAC;EAClB;EAEA,oBAAOb,OAAA,CAACC,WAAW,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,IAAI;MAAEE;IAAiB,CAAE;IAAAJ,QAAA,EAAEA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AACnG;AAACtB,EAAA,CArCeF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}